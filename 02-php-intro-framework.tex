\hypertarget{framework}{%
\section{\texorpdfstring{\href{http://en.wikipedia.org/wiki/Software_framework}{Framework}}{Framework}}\label{framework}}

\begin{itemize}
\tightlist
\item
  FonctionnalitÃ©s similaires pour de nombreuses applis
\item
  Composants de haut-niveau rÃ©utilisables (faible couplage)
\item
  RÃ¨gles de codage et d'architecture
\item
  Code sÃ»r et efficace
\item
  Facilite les tests et la gestion de projets complexes
\item
  Utilisation de Design Patterns dÃ¨s que possible
\item
  Comportement par dÃ©faut
\item
  Extensible
\item
  Principe d'inversion de contrÃ´le
\end{itemize}

DiffÃ©rences entre framework et library sur
\href{http://stackoverflow.com/questions/148747/what-is-the-difference-between-a-framework-and-a-library}{Stack
Overflow} ou
\href{http://www.artima.com/forums/flat.jsp?forum=106\&thread=152104}{artima
developper}.

\hypertarget{design-patterns-et-webdev}{%
\section{Design Patterns et webdev}\label{design-patterns-et-webdev}}

\begin{itemize}
\tightlist
\item
  Inversion de contrÃ´le
  (\href{http://martinfowler.com/bliki/InversionOfControl.html}{IoC})
\item
  Model View Controller

  \begin{itemize}
  \tightlist
  \item
    M : AccÃ¨s aux donnÃ©es, logique mÃ©tier
  \item
    V : Templates des pages Ã  gÃ©nÃ©rer
  \item
    C : Orchestration, transfert des infos
  \end{itemize}
\item
  Front Controller

  \begin{itemize}
  \tightlist
  \item
    Traitement et dispatch des requÃªtes grÃ¢ce aux \textbf{routes}
  \item
    (bootstrap, rÃ©-Ã©criture des URL, \ldots)
  \end{itemize}
\item
  \href{https://web.archive.org/web/20160316065751/http://blog.mazenod.fr/2010/01/design-pattern-mvc-zoom-sur-la-couche-modele-dal-dao-orm-crud/}{Object
  Relational Mapping}

  \begin{itemize}
  \tightlist
  \item
    Active Record, Table Data Gateway, Data Mapper, \ldots{}
  \end{itemize}
\item
  \href{http://ui-patterns.com/}{UI Patterns}
\end{itemize}

\hypertarget{mvc-for-webdev}{%
\section{MVC for webdev}\label{mvc-for-webdev}}

\begin{figure}
\centering
\includegraphics{src/img/mvc.png}
\caption{MVC}
\end{figure}

\hypertarget{conventions}{%
\section{Conventions}\label{conventions}}

\begin{itemize}
\tightlist
\item
  Nommage

  \begin{itemize}
  \tightlist
  \item
    Classes
  \item
    Base de donnÃ©es
  \item
    Fichiers et dossiers
  \end{itemize}
\item
  ROUTES :
  \textenglish{\texttt{http://app.host.tld/controller/action{[}/key/val{]}}}
\item
  Arborescence :

  \begin{itemize}
  \tightlist
  \item
    ImposÃ©e ou libre selon frameworks
  \item
    Pas de code (minimum) sous la racine web
  \end{itemize}
\item
  Conventions obligatoires ou non, mais RECOMMANDEES dans tous les cas
\end{itemize}

\hypertarget{bonnes-pratiques}{%
\section{Bonnes pratiques}\label{bonnes-pratiques}}

\begin{itemize}
\tightlist
\item
  Heavy Model, Light Controller
\item
  Don't Repeat Yourself
\item
  You Ain't Gonna Need It
\item
  Convention Over Configuration
\item
  Keep It Simple and Stupid
\item
  \href{https://12factor.net/}{12 factor app} -
  \href{https://12factor.net/fr/}{fr}
\end{itemize}

\hypertarget{pretty-smart-clean-formatted-url}{%
\section{Pretty ( \textbar{} smart \textbar{} clean \textbar{}
formatted) URL}\label{pretty-smart-clean-formatted-url}}

\begin{itemize}
\tightlist
\item
  Les URL doivent Ãªtre explicites :

  \begin{itemize}
  \tightlist
  \item
    ManipulÃ©es par l'utilisateur
  \item
    UtilisÃ©es pour le rÃ©fÃ©rencement
  \end{itemize}
\item
  CohÃ©rence avec l'implÃ©mentation MVC :
\end{itemize}

\begin{english}

\begin{verbatim}
http://app.host.tld/controller/action[/key/val]
\end{verbatim}

\end{english}

\begin{itemize}
\tightlist
\item
  Le routage (routing)

  \begin{itemize}
  \tightlist
  \item
    Le Front Controller recoit toutes les requÃªtes (URL rewriting)
  \item
    Il les dispatche vers les contrÃ´leurs
  \end{itemize}
\end{itemize}

\hypertarget{smart-url-seo}{%
\section{Smart URL \& SEO}\label{smart-url-seo}}

\begin{figure}
\centering
\includegraphics{src/img/anatomy-of-a-url.jpg}
\caption{SEO}
\end{figure}

\hypertarget{autres-services}{%
\section{Autres Services}\label{autres-services}}

\begin{itemize}
\tightlist
\item
  Migrations : Evolutions de la strucutre de la BDD
\item
  Tests
\item
  GÃ©nÃ©ration, validation et traitement de formulaires
\item
  Authenfication, Sessions, Permissions, Roles, ACL
\item
  Pagination
\item
  I18n
\item
  GÃ©nÃ©ration de code
\item
  Mail
\item
  Connecteurs aux webservices
\item
  Captchas
\item
  Loggers
\item
  \ldots{}
\end{itemize}

\hypertarget{exemple-darchitecture-laravel}{%
\section{Exemple d'architecture :
Laravel}\label{exemple-darchitecture-laravel}}

\begin{figure}
\centering
\includegraphics{src/img/laravel-architecture.jpg}
\caption{Archi}
\end{figure}

Ce schÃ©ma est clair mais pas tout Ã  fait juste : dans Laravel, le
contrÃ´leur rÃ©cupÃ¨re la page gÃ©nÃ©rÃ©e Ã  partir de la vue, et c'est lui qui
renvoie le HTML (objet Response) au client.

\hypertarget{performance}{%
\section{Performance}\label{performance}}

\begin{itemize}
\tightlist
\item
  Un framework web est lent :

  \begin{itemize}
  \tightlist
  \item
    Rendu d'une page nÃ©cÃ©ssite de traverser tout le code
  \item
    Pour chaque requÃªte toute l'appli est chargÃ©e
  \item
    Plus de code qu'une appli standalone
  \item
    Plus de requÃªtes
  \end{itemize}
\item
  Solutions

  \begin{itemize}
  \tightlist
  \item
    Cache de pages, d'opcode
  \item
    Jointures ORM, vues, procÃ©dures stockÃ©es
  \item
    Outils d'optimisation : YSlow, page speed, mytop
  \end{itemize}
\end{itemize}

\hypertarget{frameworks-php}{%
\section{Frameworks PHP}\label{frameworks-php}}

\begin{itemize}
\tightlist
\item
  Lesquels connaissez-vous?
\item
  Lesquels avez-vous utilisÃ©?
\item
  Pourquoi y en a-t-il tant?
\end{itemize}

L'explication donnÃ©e par Joe Gregorio pour
\href{http://bitworking.org/news/Why_so_many_Python_web_frameworks}{le
langage Python} est : Â« parce que c'est facile. Â»

Dans les faits, cela montre Ã©galement une maturitÃ© de la plateforme.

\begin{quote}
\emph{There are people who actually like programming. I don't understand
why they like programming.} Rasmus Lerdorf
\href{https://en.wikiquote.org/wiki/Rasmus_Lerdorf}{ðŸ’¬}
\end{quote}

\begin{itemize}
\tightlist
\item
  PHP-FI \emph{Forms Interpreter}
\item
  PHP 3, rÃ©Ã©crit en C++
\item
  PHP 4 \emph{Zend Engine}, fausse POO
\item
  PHP 5, vraie POO
\item
  PHP 5.1, PDO
\item
  PHP 5.2, JSON
\item
  PHP 5.3, \textenglish{\texttt{goto}} et
  \textenglish{\texttt{namespace}}
\item
  PHP 5.4, \textenglish{\texttt{{[}{]}}} et \textenglish{\texttt{trait}}
\item
  PHP 5.5, \textenglish{\texttt{yield}}
\item
  \sout{PHP 6, Unicode} ðŸ’©, ðŸŽƒ, ðŸ§
\item
  PHP 7, que du rÃªve!
\item
  PHP 8, JIT compilation,
  \href{https://kinsta.com/fr/blog/php-8/}{\ldots{}}
\end{itemize}

Il y a plus de vingt ans, Rasmus Lerdorf bricola un outil pour savoir
qui consultait son CV.

Zend, c'est Ã  dire \emph{ZEev} et \emph{aNDi}, ont rÃ©Ã©crit PHP et qui
allait devenir PHP 3 le prÃ©curseur du langage de prÃ©dilection pour crÃ©er
sur le web.

PHP a Ã©voluÃ© depuis pour devenir ce qu'il est aujourd'hui. Sa popularitÃ©
est liÃ©e au fait qu'il est simple Ã  mettre en Å“uvre, gratuit \textbf{et}
libre. Tout un tas de modules est fourni avec pour faire de l'imagerie,
des bases de donnÃ©es, du XML, etc.

Et plus encore sur la page
\href{http://php.net/manual/en/history.php.php}{History of PHP} et
\href{https://en.wikipedia.org/wiki/PHP}{Wikipedia: PHP}.

Les diffÃ©rentes moutures de PHP 7 offrent ceci, entre autres.

\begin{itemize}
\tightlist
\item
  PHP 7, performances
\item
  PHP 7.1, \textenglish{\texttt{void}}
\item
  PHP 7.2, sodium
\end{itemize}

\begin{figure}
\centering
\includegraphics{src/img/phpfig.png}
\caption{PHP Framework Interop Group}
\end{figure}

L'Ã©volution de PHP a fait que les usagers du langage, crÃ©ateur de
\emph{frameworks}, d'outils (comme
\href{http://getcomposer.org/}{\emph{Composer}}), ont senti le besoin
d'Ã©mettre des recommendations afin d'aller vers un plus interopÃ©rable.

Durant ce cours, nous allons vous embÃªter avec PSR-1, PSR-2 et PSR-4.

\hypertarget{quiz}{%
\section{Quiz}\label{quiz}}

Qui est qui?

\begin{figure}
\centering
\includegraphics{src/img/GandalfStaff5.jpg}
\caption{\href{http://hero.wikia.com/wiki/Gandalf}{source}}
\end{figure}

oOops, ceci n'a rien Ã  voir avec le cours.

\includegraphics{src/img/0O4A8746-large.jpg}(1)

Donc, ce ne sont pas Gandalf (sans sa barbe) et Saruman mais bien Sir
Tim Berners-Lee et Vinton Cerf, responsables du (World Wide) Web et de
l'Internet.

\hypertarget{quest-ce-quinternetitcrowd}{%
\subsection{\texorpdfstring{Qu'est-ce
qu'\href{https://www.youtube.com/watch?v=iDbyYGrswtg}{Internet}
?}{Qu'est-ce qu'Internet ?}}\label{quest-ce-quinternetitcrowd}}

\begin{itemize}
\tightlist
\item
  un rÃ©seau IP
\end{itemize}

\hypertarget{quest-ce-que-le-world-wide-web}{%
\subsection{Qu'est-ce que le World Wide Web
?}\label{quest-ce-que-le-world-wide-web}}

\begin{itemize}
\tightlist
\item
  \textbf{URI/URL}, des identifiants uniques
\item
  \textbf{HTML}, un langage de publication
\item
  \textbf{HTTP}, un protocole d'Ã©change de texte (ou \emph{HyperText})
\end{itemize}

\hypertarget{pruxe9paratifs}{%
\section{PrÃ©paratifs}\label{pruxe9paratifs}}

\href{https://github.com/HE-Arc/php-intro-framework}{https://github.com/HE-Arc/php-intro-framework/}

\begin{english}

\begin{verbatim}
$ sudo systemctl start httpd
$ cd /var/www/html
$ git clone \
> https://github.com/\
> HE-Arc/php-intro-framework

$ cd php-intro-framework
$ open http://localhost/php-intro-framework
\end{verbatim}

\end{english}

Les exemples suivant travaillent sur le code disponible dans le dÃ©pÃ´t
\href{https://github.com/HE-Arc/php-intro-framework}{HE-Arc/php-intro-framework}.

\begin{english}

\begin{verbatim}
$ curl -v "http://he-arc.ch/?id=25"
> GET /?id=25 HTTP/1.1
> Host: he-arc.ch
>
< HTTP/1.1 200 OK
< Content-Type: text/html; charset=utf-8
<
\end{verbatim}

\end{english}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\DataTypeTok{\textless{}!DOCTYPE }\NormalTok{html}\DataTypeTok{\textgreater{}}
\KeywordTok{\textless{}title\textgreater{}}\NormalTok{HE{-}Arc}\KeywordTok{\textless{}/title\textgreater{}}
\KeywordTok{\textless{}p\textgreater{}}\NormalTok{Hello}
\end{Highlighting}
\end{Shaded}

\end{english}

HTTP est un protocole texte plutÃ´t simple, jugez plutÃ´t:

Ce que nous voyons est une connexion TCP/IP au serveur
\textenglish{\texttt{he-arc.ch}}. Une fois la connexion Ã©tablie, il
envoie en texte ASCII les entÃªtes HTTP puis deux retours Ã  la ligne (ce
qui correspond Ã  une ligne vide). La requÃªte HTTP commencent toujours
par la demande, ici
\textenglish{\texttt{GET\ /index.php?page=equipe\&id=25\ HTTP/1.1}} puis
les entÃªtes, ici: \textenglish{\texttt{Host:\ www.he-arc.ch}}. La
rÃ©ponse du serveur est du mÃªme type, le code de rÃ©ponse
(\textenglish{\texttt{HTTP/1.1\ 200\ OK}}), les entÃªtes, une ligne vide
puis le contenu.

La demande et les entÃªtes sont en US-ASCII mais le corps peut Ãªtre
encodÃ© autrement, ici c'est dit dans l'entÃªte
\textenglish{\texttt{Content-Type:\ text/html;\ charset=utf-8}}.

\hypertarget{fait-1}{%
\subsection{Fait \#1}\label{fait-1}}

PHP parle HTTP.

Le fichier \textenglish{\texttt{index.php}} est le code PHP le plus
simple qui soit. Simple au sens du niveau de comprÃ©hension de PHP et
d'une forme de complexitÃ©.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 00{-}base}

\CommentTok{// Lecture de la query string \textasciigrave{}page=\textless{}XX\textgreater{}\&id=\textless{}YY\textgreater{}\textasciigrave{}.}
\KeywordTok{$page}\NormalTok{ = }\KeywordTok{$\_GET}\OtherTok{[}\StringTok{"page"}\OtherTok{]} \OtherTok{??} \KeywordTok{null}\OtherTok{;}
\KeywordTok{$id}\NormalTok{ = }\DataTypeTok{(int)} \OtherTok{(}\KeywordTok{$\_GET}\OtherTok{[}\StringTok{"id"}\OtherTok{]} \OtherTok{??} \DecValTok{0}\OtherTok{);}

\CommentTok{// Connexion Ã  la base de donnÃ©es.}
\KeywordTok{$db}\NormalTok{ = }\KeywordTok{new} \KeywordTok{PDO}\OtherTok{(}\StringTok{"sqlite:../users.db"}\OtherTok{);}

\CommentTok{// Page HTML}
\KeywordTok{?\textgreater{}}
\NormalTok{\textless{}!}\KeywordTok{DOCTYPE}\NormalTok{ html\textgreater{}}
\NormalTok{\textless{}meta charset=utf}\DecValTok{{-}8}\NormalTok{\textgreater{}}
\NormalTok{\textless{}title\textgreater{}}\KeywordTok{HE}\NormalTok{{-}Arc\textless{}/title\textgreater{}}
\NormalTok{\textless{}}\OtherTok{?}\NormalTok{php}
\CommentTok{// Contenu}
\KeywordTok{if} \OtherTok{(}\StringTok{"equipe"}\NormalTok{ === }\KeywordTok{$page}\OtherTok{):}
    \KeywordTok{$query}\NormalTok{ = }\KeywordTok{$db}\NormalTok{{-}\textgreater{}query}\OtherTok{(}\StringTok{"SELECT * FROM \textasciigrave{}personnes\textasciigrave{} WHERE \textasciigrave{}id\textasciigrave{} = :id;"}\OtherTok{);}
    \KeywordTok{$query}\NormalTok{{-}\textgreater{}execute}\OtherTok{(}\NormalTok{compact}\OtherTok{(}\StringTok{\textquotesingle{}id\textquotesingle{}}\OtherTok{));}

    \KeywordTok{$personne}\NormalTok{ = }\KeywordTok{$query}\NormalTok{{-}\textgreater{}fetch}\OtherTok{(}\KeywordTok{PDO}\NormalTok{::}\KeywordTok{FETCH\_OBJ}\OtherTok{);}
\KeywordTok{?\textgreater{}}
\NormalTok{    \textless{}p\textgreater{}\textless{}a href=}\StringTok{"\textless{}?php echo }\KeywordTok{$\_SERVER}\StringTok{["}\KeywordTok{PHP\_SELF}\StringTok{"] ?\textgreater{}"}\NormalTok{\textgreater{}retour\textless{}/a\textgreater{}}
\NormalTok{    \textless{}h1\textgreater{}Ã‰quipe\textless{}/h1\textgreater{}}
\NormalTok{    \textless{}h2\textgreater{}}
\NormalTok{        \textless{}}\OtherTok{?}\NormalTok{php }\KeywordTok{echo} \KeywordTok{$personne}\NormalTok{{-}\textgreater{}prenom }\KeywordTok{?\textgreater{}}
\NormalTok{        \textless{}}\OtherTok{?}\NormalTok{php }\KeywordTok{echo} \KeywordTok{$personne}\NormalTok{{-}\textgreater{}nom }\KeywordTok{?\textgreater{}}
\NormalTok{    \textless{}/h2\textgreater{}}
\NormalTok{    \textless{}p\textgreater{}}
\NormalTok{        \textless{}img src=}\StringTok{"//www.gravatar.com/avatar/\textless{}?php}
\StringTok{            echo md5(strtolower(}\KeywordTok{$personne}\StringTok{{-}\textgreater{}email));}
\StringTok{        ?\textgreater{}"}\NormalTok{ alt=}\StringTok{"avatar"}\NormalTok{\textgreater{}}
\NormalTok{\textless{}}\OtherTok{?}\NormalTok{php}
\KeywordTok{else}\OtherTok{:}
\KeywordTok{?\textgreater{}}
\NormalTok{    \textless{}h1\textgreater{}Accueil\textless{}/h1\textgreater{}}
\NormalTok{    \textless{}ul\textgreater{}}
\NormalTok{        \textless{}li\textgreater{}\textless{}a href=}\StringTok{"?page=equipe\&amp;id=1"}\NormalTok{\textgreater{}Yoan Blanc\textless{}/a\textgreater{}}
\NormalTok{        \textless{}li\textgreater{}\textless{}a href=}\StringTok{"?page=equipe\&amp;id=2"}\NormalTok{\textgreater{}Yoan Blanc\textless{}/a\textgreater{}}
\NormalTok{    \textless{}/ul\textgreater{}}
\NormalTok{\textless{}}\OtherTok{?}\NormalTok{php}
\KeywordTok{endif}
\end{Highlighting}
\end{Shaded}

\end{english}

\hypertarget{fait-2}{%
\subsection{Fait \#2}\label{fait-2}}

PHP \textbf{est} un langage de template.

Pour preuve, il faut ouvrir une balise
\textenglish{\texttt{\textless{}?php}} pour commencer la partie code.

Avec la pratique, on a rÃ©alisÃ© que mÃ©langer la logique mÃ©tier et celle
d'affichage n'est pas optimal car difficile Ã  lire et maintenir.

\hypertarget{suxe9paration-muxe9tieraffichage}{%
\section{SÃ©paration
mÃ©tier/affichage}\label{suxe9paration-muxe9tieraffichage}}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 01{-}includes/index.php}

\CommentTok{// ...}

\KeywordTok{include} \StringTok{"templates/entete.html"}\OtherTok{;}

\KeywordTok{if} \OtherTok{(}\StringTok{"equipe"}\NormalTok{ === }\KeywordTok{$\_GET}\OtherTok{[}\StringTok{"page"}\OtherTok{])}\NormalTok{ \{}
    \CommentTok{// SELECT FROM u WHERE id=$\_GET["id"]}
    \CommentTok{// ...}
    \KeywordTok{include} \StringTok{"templates/equipe.html"}\OtherTok{;}
\NormalTok{\} }\KeywordTok{else}\NormalTok{ \{}
    \CommentTok{// ...}
    \KeywordTok{include} \StringTok{"templates/accueil.html"}\OtherTok{;}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\end{english}

\includegraphics{src/img/meme10.jpg}

Quel est le problÃ¨me avec cette solution?

(\href{https://raw.githubusercontent.com/cyrilmanuel/picbot/e6ff24a8bfd7ee9f0514a4fd8f49b1255ef26178/picbot/Images/meme10.jpg}{Source
de l'image})

\hypertarget{suxe9curituxe9-des-templates}{%
\section{SÃ©curitÃ© des templates}\label{suxe9curituxe9-des-templates}}

\begin{itemize}
\tightlist
\item
  \emph{Principle of Least Privilege} (
  \href{https://en.wikipedia.org/wiki/Principle_of_least_privilege}{polp}
  )
\item
  IntÃ©gration faite par un graphiste, sociÃ©tÃ© externe
\end{itemize}

Dans ce le cas prÃ©sent rien ne nous empÃªche de mettre de la logique
mÃ©tier dans nos fichiers de \emph{template}, car ils sont faits de PHP
eux aussi.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{\# 02{-}twig/templates/collaborateur.html \#\}}
\NormalTok{\{\%{-} extends "base.html" {-}\%\}}

\NormalTok{\{\% block corps {-}\%\}}
\KeywordTok{\textless{}p\textgreater{}\textless{}a}\OtherTok{ href=}\StringTok{"?"}\KeywordTok{\textgreater{}}\NormalTok{retour}\KeywordTok{\textless{}/a\textgreater{}}
\KeywordTok{\textless{}h1\textgreater{}}\NormalTok{Ã‰quipe}\KeywordTok{\textless{}/h1\textgreater{}}
\KeywordTok{\textless{}h2\textgreater{}}
\NormalTok{  \{\{{-} personne.prenom {-}\}\}}
\NormalTok{  \{\{ personne.nom {-}\}\}}
\KeywordTok{\textless{}/h2\textgreater{}}
\KeywordTok{\textless{}p\textgreater{}\textless{}img}
\OtherTok{  src=}\StringTok{"//www.gravatar.com/avatar/}
\StringTok{  \{\{{-} personne.email | strtolower | md5 \}\}"}
\OtherTok{  alt=}\StringTok{"avatar"}\KeywordTok{\textgreater{}}
\NormalTok{\{\% endblock {-}\%\}}
\end{Highlighting}
\end{Shaded}

\end{english}

La page est rÃ©alisÃ©e avec \href{http://twig.sensiolabs.org/}{Twig}
\textless2.0. Ã€ partir de la version 2.0, il faut utiliser un
\emph{autoloader} externe, comme celui de composer (voir ci-dessous).

Le code est un poil plus propre du cÃ´tÃ© de nos \emph{templates} qui ne
peuvent plus exÃ©cuter de PHP sauf ce qu'on leur autorise, ici
\textenglish{\texttt{md5}} et \textenglish{\texttt{strtolower}}. Voir
\href{02-twig/index.php}{\textenglish{\texttt{02-twig/index.php}}}.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 02{-}twig}

\KeywordTok{require\_once} \StringTok{\textquotesingle{}Twig/lib/Twig/Autoloader.php\textquotesingle{}}\OtherTok{;}
\NormalTok{Twig\_Autoloader::register}\OtherTok{();}

\CommentTok{// ...}

\CommentTok{// Configuration de Twig}
\KeywordTok{$loader}\NormalTok{ = }\KeywordTok{new}\NormalTok{ Twig\_Loader\_FileSystem}\OtherTok{(}\StringTok{"templates"}\OtherTok{);}
\KeywordTok{$twig}\NormalTok{ = }\KeywordTok{new}\NormalTok{ Twig\_Environment}\OtherTok{(}\KeywordTok{$loader}\OtherTok{);}

\CommentTok{// Ajout des filtres md5 et strtolower qui sont les fonctions PHP du mÃªme nom.}
\KeywordTok{$twig}\NormalTok{{-}\textgreater{}addFilter}\OtherTok{(}\KeywordTok{new}\NormalTok{ Twig\_SimpleFilter}\OtherTok{(}\StringTok{\textquotesingle{}strtolower\textquotesingle{}}\OtherTok{,} \StringTok{\textquotesingle{}strtolower\textquotesingle{}}\OtherTok{));}
\KeywordTok{$twig}\NormalTok{{-}\textgreater{}addFilter}\OtherTok{(}\KeywordTok{new}\NormalTok{ Twig\_SimpleFilter}\OtherTok{(}\StringTok{\textquotesingle{}md5\textquotesingle{}}\OtherTok{,} \StringTok{\textquotesingle{}md5\textquotesingle{}}\OtherTok{));}

\CommentTok{// variable globale}
\KeywordTok{$titre}\NormalTok{ = }\StringTok{"HE{-}Arc"}\OtherTok{;}

\CommentTok{// Contenu}
\KeywordTok{if} \OtherTok{(}\StringTok{"equipe"}\NormalTok{ === }\KeywordTok{$page}\OtherTok{)}\NormalTok{ \{}
    \CommentTok{// ...}
    \KeywordTok{$personne}\NormalTok{ = }\CommentTok{// ...}

    \KeywordTok{echo} \KeywordTok{$twig}\NormalTok{{-}\textgreater{}render}\OtherTok{(}\StringTok{"equipe.html"}\OtherTok{,}\NormalTok{ compact}\OtherTok{(}\StringTok{"titre"}\OtherTok{,} \StringTok{"personne"}\OtherTok{));}
\NormalTok{\} }\KeywordTok{else}\NormalTok{ \{}
    \KeywordTok{$personnes}\NormalTok{ = }\CommentTok{// ...}

    \KeywordTok{echo} \KeywordTok{$twig}\NormalTok{{-}\textgreater{}render}\OtherTok{(}\StringTok{"accueil.html"}\OtherTok{,}\NormalTok{ compact}\OtherTok{(}\StringTok{"titre"}\OtherTok{,} \StringTok{"personnes"}\OtherTok{));}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\end{english}

\includegraphics{src/img/exploits_of_a_mom.png} ProblÃ¨me d'injection
SQL.

Effectuer des requÃªtes MySQL Ã  la main ou devoir connaitre tous les
champs crÃ©e beaucoup de redondance et de failles de sÃ©curitÃ©
potentielles.

Une solution est d'ajouter une couche d'abstraction qui va cacher la
structure rÃ©elle de notre base de donnÃ©es et offrir une interface
orientÃ©e objet. Un \emph{Object-Relational Mapping} ou ORM(3) dans le
jargon.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]

\KeywordTok{\textless{}?php}
\CommentTok{// Ne dites plus}
\KeywordTok{$query}\NormalTok{ = }\KeywordTok{$db}\NormalTok{{-}\textgreater{}query}\OtherTok{(}
  \StringTok{"SELECT * FROM \textasciigrave{}personnes\textasciigrave{} "}\NormalTok{.}
  \StringTok{"WHERE \textasciigrave{}id\textasciigrave{} = :id;"}
\OtherTok{);}
\KeywordTok{$query}\NormalTok{{-}\textgreater{}execute}\OtherTok{(}\NormalTok{compact}\OtherTok{(}\StringTok{\textquotesingle{}id\textquotesingle{}}\OtherTok{));}
\KeywordTok{$personne}\NormalTok{ = }\KeywordTok{$query}\NormalTok{{-}\textgreater{}fetch}\OtherTok{(}\KeywordTok{PDO}\NormalTok{::}\KeywordTok{FETCH\_OBJ}\OtherTok{);}

\CommentTok{// Mais dites plutÃ´t}

\CommentTok{//  RedBean}
\KeywordTok{$personne}\NormalTok{ = }\KeywordTok{R}\NormalTok{::load}\OtherTok{(}\StringTok{\textquotesingle{}personnes\textquotesingle{}}\OtherTok{,} \KeywordTok{$id}\OtherTok{);}
\CommentTok{// ou Doctrine}
\KeywordTok{$personne}\NormalTok{ = }\KeywordTok{$om}\NormalTok{{-}\textgreater{}find}\OtherTok{(}\StringTok{\textquotesingle{}Personne\textquotesingle{}}\OtherTok{,} \KeywordTok{$id}\OtherTok{);}
\end{Highlighting}
\end{Shaded}

\end{english}

\hypertarget{object-relational-mapping}{%
\section{\texorpdfstring{\emph{Object-Relational
Mapping}}{Object-Relational Mapping}}\label{object-relational-mapping}}

\begin{itemize}
\tightlist
\item
  \href{http://www.redbeanphp.com/}{RedBean}
\item
  \href{http://www.doctrine-project.org/}{Doctrine} (ORM, ODM)
\item
  \href{http://laravel.com/docs/master/eloquent}{Eloquent ORM}
\item
  \href{https://en.wikipedia.org/wiki/List_of_object-relational_mapping_software\#PHP}{etc.}
\end{itemize}

Une bibliothÃ¨que qui va crÃ©er ce lien entre les mondes objet et
relationnel ou document (gÃ©nÃ©ralement MongoDB). Il en existe toute une
foule.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 03{-}redbean/index.php}
\KeywordTok{require} \StringTok{\textquotesingle{}RedBean/rb.php\textquotesingle{}}\OtherTok{;}
\KeywordTok{R}\NormalTok{::setup}\OtherTok{(}\StringTok{"sqlite:../users.db"}\OtherTok{);}
\CommentTok{// ...}
\KeywordTok{if} \OtherTok{(}\StringTok{"equipe"}\NormalTok{ === }\KeywordTok{$page}\OtherTok{)}\NormalTok{ \{}
    \KeywordTok{$personne}\NormalTok{ = }\KeywordTok{R}\NormalTok{::load}\OtherTok{(}\StringTok{"personnes"}\OtherTok{,} \KeywordTok{$id}\OtherTok{);}
    \KeywordTok{echo} \KeywordTok{$twig}\NormalTok{{-}\textgreater{}render}\OtherTok{(}
        \StringTok{"equipe.html"}\OtherTok{,}
\NormalTok{        compact}\OtherTok{(}\StringTok{"titre"}\OtherTok{,} \StringTok{"personne"}\OtherTok{)}
    \OtherTok{);}
\NormalTok{\} }\KeywordTok{else}\NormalTok{ \{}
    \KeywordTok{$personnes}\NormalTok{ = }\KeywordTok{R}\NormalTok{::find}\OtherTok{(}\StringTok{"personnes"}\OtherTok{);}
    \KeywordTok{echo} \KeywordTok{$twig}\NormalTok{{-}\textgreater{}render}\OtherTok{(}
        \StringTok{"accueil.html"}\OtherTok{,}
\NormalTok{        compact}\OtherTok{(}\StringTok{"titre"}\OtherTok{,} \StringTok{"personnes"}\OtherTok{)}
    \OtherTok{);}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\end{english}

\hypertarget{uri-as-ui}{%
\section{URI as UI}\label{uri-as-ui}}

Pensez Ã  Wikipedia.

Les adresses des pages font partie de l'expÃ©rience utilisateur. Un
utilisateur doit Ãªtre capable d'imaginer le contenu de la page en lisant
l'URI. Certainement, ce que vous faites avant de cliquer sur un lien.

\hypertarget{comment-humaniser}{%
\subsection{Comment humaniser ?}\label{comment-humaniser}}

\begin{english}

\begin{verbatim}
  /index.php?page=equipe&id=42
\end{verbatim}

\end{english}

La personne avec l'identifiant \textenglish{\texttt{42}} aura Ã©galement
un \emph{slug} unique crÃ©Ã© Ã  partir de son nom, ici
\textenglish{\texttt{jean-bon}}.

La solution Ã  notre problÃ¨me est de demander au serveur web de rÃ©Ã©crire
les URL pour nous.

\hypertarget{ruxe9uxe9criture-durl}{%
\subsection{RÃ©Ã©criture d'URL}\label{ruxe9uxe9criture-durl}}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 04{-}routes/.htaccess}

\CommentTok{\# mod\_rewrite}
\ExtensionTok{RewriteEngine}\CharTok{ }\KeywordTok{on}
\NormalTok{RewriteBase}\StringTok{ /php{-}intro{-}framework/04{-}routes/}

\NormalTok{RewriteCond}\StringTok{ \%\{REQUEST\_FILENAME\} !{-}f}
\NormalTok{RewriteCond}\StringTok{ \%\{REQUEST\_FILENAME\} !{-}d}
\NormalTok{RewriteRule}\StringTok{ \^{}(.*)$ index.php/$1 [L,QSA]}
\end{Highlighting}
\end{Shaded}

\end{english}

Apache le fait via
\href{https://httpd.apache.org/docs/current/mod/mod_rewrite.html}{\textenglish{\texttt{mod\_rewrite}}}
et Nginx
\href{http://nginx.org/en/docs/http/ngx_http_core_module.html\#try_files}{\textenglish{\texttt{try\_files}}}.

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]

\CommentTok{// 04{-}routes/index.php}

\KeywordTok{$uri}\NormalTok{ = }\KeywordTok{$\_SERVER}\OtherTok{[}\StringTok{\textquotesingle{}REQUEST\_URI\textquotesingle{}}\OtherTok{],}
\KeywordTok{$matches}\NormalTok{ = }\OtherTok{[];}

\FunctionTok{preg\_match}\OtherTok{(}
    \StringTok{"\#\^{}/(?P\textless{}page\textgreater{}[\^{}/]+)/(?P\textless{}slug\textgreater{}[\^{}/]+)/?\#"}\OtherTok{,}
    \KeywordTok{$uri}\OtherTok{,}
    \KeywordTok{$matches}
\OtherTok{)} \KeywordTok{or} \KeywordTok{die}\OtherTok{(}\StringTok{\textquotesingle{}Arrrrrgh\textquotesingle{}}\OtherTok{);}

\KeywordTok{echo} \FunctionTok{call\_user\_func\_array}\OtherTok{(}
    \KeywordTok{$matches}\OtherTok{[}\StringTok{\textquotesingle{}page\textquotesingle{}}\OtherTok{],}
    \OtherTok{[}\KeywordTok{$matches}\OtherTok{[}\StringTok{\textquotesingle{}slug\textquotesingle{}}\OtherTok{]]}
\OtherTok{);}
\end{Highlighting}
\end{Shaded}

\end{english}

Le code complet va nettoyer l'URI et dÃ©finir les fonction correspondant
aux pages possibles.

\hypertarget{routing}{%
\section{\texorpdfstring{\emph{Routing}}{Routing}}\label{routing}}

Lien entre les adresses (URI) et des actions dans le code.

a.k.a. the \emph{Front Controller}.

En pratique, les actions ne sont pas des fonctions mises Ã  plat mais
sont encapsulÃ©es dans une classe qu'on nomme un contrÃ´leur. Faire ainsi
permet de regrouper logiquement les fonctions et Ã©viter d'utiliser
d'affreux Ã©lÃ©ments tel que \textenglish{\texttt{global}}.

\hypertarget{moduxe8le---vue---contruxf4leur}{%
\section{ModÃ¨le - Vue -
ContrÃ´leur}\label{moduxe8le---vue---contruxf4leur}}

\begin{itemize}
\tightlist
\item
  ModÃ¨le: l'ORM qui s'occupe de notre base de donnÃ©es
\item
  Vue: les templates qui affiche les donnÃ©es
\item
  ContrÃ´leur: une classe qui dÃ©finit quoi faire en fonction des entrÃ©es
  utilisateur (URI, formulaire, etc.)
\end{itemize}

\emph{MVC}(4) vient des applications bureau et ne reprÃ©sente pas
toujours le fonctionnement dans le monde du web. Par exemple, Django, un
framework Python, se dÃ©crit comme Ã©tant \emph{ModÃ¨le - Template -
Vue}(5).

Les frameworks web en PHP (ou d'autres langages) reposent
majoritairement sur ce paradigme.

\hypertarget{composer}{%
\section{\texorpdfstring{\emph{Composer}}{Composer}}\label{composer}}

Gestionnaire de paquets pour PHP:
\href{http://getcomposer.org/}{getcomposer.org}

Maintenir notre rÃ©pertoire de \emph{vendor} ainsi que les
\textenglish{\texttt{require}} est peu pratique. Voici qu'entre en scÃ¨ne
\href{http://getcomposer.org/}{Composer}, le gestionnaire de paquet pour
PHP. \href{https://packagist.org/}{Packagist} est le dÃ©pÃ´t en ligne de
paquets public et utilisÃ© par dÃ©faut.

\hypertarget{composer.json}{%
\subsection{composer.json}\label{composer.json}}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
    \DataTypeTok{"require"}\FunctionTok{:} \FunctionTok{\{}
        \DataTypeTok{"twig/twig"}\FunctionTok{:} \StringTok{"\^{}2.0"}\FunctionTok{,}
        \DataTypeTok{"gabordemooij/redbean"}\FunctionTok{:} \StringTok{"\^{}4.3"}\FunctionTok{,}
    \FunctionTok{\}}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\end{english}

Nos dÃ©pendances sont ainsi matÃ©rialisÃ©es dans le projet et peuvent Ãªtre
installÃ©e, ou mises Ã  jour simplement.

En principe les numÃ©ros de version respectent le
\href{http://semver.org/lang/fr/}{SemVer} (\emph{Semantic Versioning})
et les diffÃ©rents signes permettent de sÃ©lection une ou plusieurs
versions (voir {[}Version and
constraints{]}{[}https://getcomposer.org/doc/articles/versions.md{]}).

\begin{english}

\begin{verbatim}

$ composer install
\end{verbatim}

\end{english}

puis

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 05{-}composer/index.php}

\KeywordTok{require} \StringTok{\textquotesingle{}vendor/autoload.php\textquotesingle{}}\OtherTok{;}

\KeywordTok{use}\NormalTok{ RedBeanPHP\textbackslash{}Facade }\KeywordTok{as} \KeywordTok{R}\OtherTok{;}
\end{Highlighting}
\end{Shaded}

\end{english}

Enfin, nous pouvons rÃ©duire le nombre de \textenglish{\texttt{require}}
et \textenglish{\texttt{include}} Ã  un seul, en laissant soin Ã 
l'\emph{auto-loader} de charger le bon fichier Ã  la demande. Tout ceci
est spÃ©cifiÃ© dans \href{http://www.php-fig.org/psr/psr-4/}{PSR-4}.
Ainsi, les dÃ©finitions de Twig sont prÃ©sentes et il nous suffit
d'obtenir la classe \textenglish{\texttt{R}} depuis
\href{http://www.redbeanphp.com/}{RedBean}.

\hypertarget{front-controller}{%
\section{\texorpdfstring{\emph{Front-Controller}}{Front-Controller}}\label{front-controller}}

Utilisation de \href{https://github.com/nikic/FastRoute}{FastRoute}
(voir
\href{https://github.com/HE-Arc/php-intro-framework/blob/master/06-fastroute/index.php}{06-fastroute/index.php}).

\begin{english}

\begin{verbatim}
$ composer require nikic/fast-route
\end{verbatim}

\end{english}

\textenglish{\texttt{FastRoute}} repose sur un systÃ¨me proche de celui
que nous avons utilisÃ© jusqu'ici. D'autres systÃ¨mes, tels que
\textenglish{\texttt{Aura.Router}} pour ne citer que lui, reposent sur
la spÃ©cification \href{http://www.php-fig.org/psr/psr-7/}{PSR-7}. Cette
derniÃ¨re dÃ©crit l'interface objet d'un message HTTP, tant au niveau de
la requÃªte que de la rÃ©ponse.

Si Ã§a ajoute, une bonne couche de complexitÃ©, l'Ã©norme avantage offert
par cette idÃ©e lÃ  est de dÃ©lÃ©guer le rendu d'une page, ni
\textenglish{\texttt{echo}}, ni \textenglish{\texttt{header}}, Donc il
est envisageable de pouvoir tester (au sens de test unitaire), notre
\emph{FrontController}.

D'autre part, le \textenglish{\texttt{call\_user\_func\_array}} d'avant
n'Ã©tait pas trÃ¨s solide,

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]

\KeywordTok{\textless{}?php} \CommentTok{// 06{-}fastroute/index.php}
\CommentTok{// ...}
\KeywordTok{use} \KeywordTok{function}\NormalTok{ FastRoute\textbackslash{}simpleDispatcher}\OtherTok{;}
\KeywordTok{use}\NormalTok{ FastRouter\textbackslash{}Dispatcher}\OtherTok{;}

\KeywordTok{$dispatcher}\NormalTok{ = simpleDispatcher}\OtherTok{(}\KeywordTok{function}\OtherTok{(}\KeywordTok{$r}\OtherTok{)}
\NormalTok{\{}
    \KeywordTok{$r}\NormalTok{{-}\textgreater{}addRoute}\OtherTok{(}\StringTok{\textquotesingle{}GET\textquotesingle{}}\OtherTok{,} \StringTok{\textquotesingle{}/\textquotesingle{}}\OtherTok{,} \StringTok{\textquotesingle{}accueil\textquotesingle{}}\OtherTok{);}

    \KeywordTok{$r}\NormalTok{{-}\textgreater{}addRoute}\OtherTok{(}
        \StringTok{\textquotesingle{}GET\textquotesingle{}}\OtherTok{,}
        \StringTok{\textquotesingle{}/equipe/\{slug\}\textquotesingle{}}\OtherTok{,}
        \StringTok{\textquotesingle{}equipe\textquotesingle{}}
    \OtherTok{);}
\NormalTok{\}}\OtherTok{);}
\end{Highlighting}
\end{Shaded}

\end{english}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 06{-}fastroute/index.php (suite)}

\KeywordTok{$httpMethod}\NormalTok{ = }\KeywordTok{$\_SERVER}\OtherTok{[}\StringTok{"REQUEST\_METHOD"}\OtherTok{];}
\KeywordTok{$uri}\NormalTok{ = }\KeywordTok{$\_SERVER}\OtherTok{[}\StringTok{"REQUEST\_URI"}\OtherTok{];}

\CommentTok{// nettoyage de $uri}
\CommentTok{// {-} prefix}
\CommentTok{// {-} query string}
\CommentTok{// {-} caractÃ¨res spÃ©ciaux (e.g. \%20)}

\KeywordTok{$routeInfo}\NormalTok{ = }\KeywordTok{$dispatcher}\NormalTok{{-}\textgreater{}dispatch}\OtherTok{(}
    \KeywordTok{$httpMethod}\OtherTok{,}
    \KeywordTok{$uri}
\OtherTok{);}
\end{Highlighting}
\end{Shaded}

\end{english}

\begin{english}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{\textless{}?php} \CommentTok{// 06{-}fastroute (suite)}

\KeywordTok{switch}\OtherTok{(}\KeywordTok{$routeInfo}\OtherTok{[}\DecValTok{0}\OtherTok{])}\NormalTok{ \{}
    \KeywordTok{case }\NormalTok{Dispatcher::}\KeywordTok{NOT\_FOUND}\OtherTok{:}
    \KeywordTok{case }\NormalTok{Dispatcher::}\KeywordTok{METHOD\_NOT\_ALLOWED}\OtherTok{:}
        \CommentTok{/* ... */}\KeywordTok{break}\OtherTok{;}
    \KeywordTok{case }\NormalTok{Dispatcher::}\KeywordTok{FOUND}\OtherTok{:}
        \KeywordTok{try}\NormalTok{ \{}
            \KeywordTok{echo} \FunctionTok{call\_user\_func\_array}\OtherTok{(}
                \KeywordTok{$routeInfo}\OtherTok{[}\DecValTok{1}\OtherTok{],}
                \KeywordTok{$routeInfo}\OtherTok{[}\DecValTok{2}\OtherTok{]}
            \OtherTok{);}
\NormalTok{        \} }\KeywordTok{catch} \OtherTok{(}\KeywordTok{Exception} \KeywordTok{$e}\OtherTok{)}\NormalTok{\{}
            \KeywordTok{echo}\NormalTok{ server\_error}\OtherTok{(}\KeywordTok{$e}\OtherTok{);}
\NormalTok{        \}}
        \KeywordTok{break}\OtherTok{;}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\end{english}

\hypertarget{framework-php}{%
\section{\texorpdfstring{\emph{Framework
PHP}}{Framework PHP}}\label{framework-php}}

Une collection de bibliothÃ¨ques avec un peu de glue.

Un framework web vous propose une structure de base pour construire
selon une mÃ©thode jugÃ©e bonne par ses concepteurs. Il est possible de
remplacer un composant par un autre, par le sien. Et mÃªme de crÃ©er sa
\emph{glue} ou mÃªme ses outils propres.

\hypertarget{liens-avec-laravel}{%
\subsection{Liens avec Laravel}\label{liens-avec-laravel}}

\begin{itemize}
\tightlist
\item
  ModÃ¨le MVC
\item
  Templates utilisant \emph{blade}.
\item
  ORM nommÃ© \emph{Eloquent}.
\item
  \emph{Front-Controller}
  (\textenglish{\texttt{Illuminate\textbackslash{}Routing}})
\item
  BibliothÃ¨ques \ldots{}
  (\textenglish{\texttt{Illuminate\textbackslash{}*}})
\item
  \href{http://getcomposer.org/}{Composer}
\end{itemize}

Je vous invite Ã  aller lire le code gÃ©nÃ©rÃ© pour vous par Laravel. Vous
allez retrouver ces Ã©lÃ©ments. Symfony, CakePHP, etc. auront les mÃªmes
idÃ©es.

\hypertarget{exercice}{%
\subsection{Exercice}\label{exercice}}

\begin{itemize}
\tightlist
\item
  Refaites les diffÃ©rentes Ã©tapes Ã  partir de
  \textenglish{\texttt{00-base}}.
\item
  Tel quel ou en utilisant d'autres bibliothÃ¨ques :
  \href{https://github.com/smarty-php/smarty}{Smarty},
  \href{https://www.doctrine-project.org/projects/doctrine-orm/en/current/tutorials/getting-started.html}{Doctrine},
  \href{https://github.com/auraphp/Aura.Router}{Aura.Router}
\end{itemize}

\hypertarget{fin}{%
\section{Fin}\label{fin}}

Questions?

\hypertarget{sources}{%
\section*{Sources}\label{sources}}
\addcontentsline{toc}{section}{Sources}

\hypertarget{refs}{}
\begin{cslreferences}
\leavevmode\hypertarget{ref-w3c:20}{}%
1. W3C. W3C 20 Anniversary Symposium. {[}en~ligne{]}.
{[}ConsultÃ©~le~7~fÃ©vrier~2017{]}. Disponible Ã  l'adresse~:
\url{https://www.w3.org/20/Overview.html}

\leavevmode\hypertarget{ref-xkcd:327}{}%
2. MUNROE, Randall. Exploits of a mom. {[}en~ligne{]}. 2007.
{[}ConsultÃ©~le~7~fÃ©vrier~2017{]}. Disponible Ã  l'adresse~:
\url{https://xkcd.com/327/}

\leavevmode\hypertarget{ref-wiki:orm}{}%
3. WIKIPEDIA. \emph{Mapping objet-relationnel} {[}en~ligne{]}.
{[}ConsultÃ©~le~7~fÃ©vrier~2017{]}. Disponible Ã  l'adresse~:
\url{https://fr.wikipedia.org/wiki/Mapping_objet-relationnel}

\leavevmode\hypertarget{ref-wiki:mvc}{}%
4. WIKIPEDIA. ModÃ¨le-Vue-ContrÃ´leur. {[}en~ligne{]}.
{[}ConsultÃ©~le~7~fÃ©vrier~2017{]}. Disponible Ã  l'adresse~:
\url{https://fr.wikipedia.org/wiki/ModÃ¨le-vue-contrÃ´leur}

\leavevmode\hypertarget{ref-django:mtv}{}%
5. DJANGO PROJECT. Django appears to be a MVC framework, but you call
the Controller the Â«~view~Â», and the View the Â«~template~Â». How come you
don't use the standard names? \emph{FAQ: General} {[}en~ligne{]}.
{[}ConsultÃ©~le~7~fÃ©vrier~2017{]}. Disponible Ã  l'adresse~:
\url{https://docs.djangoproject.com/en/1.11/faq/general/\#django-appears-to-be-a-mvc-framework-but-you-call-the-controller-the-view-and-the-view-the-template-how-come-you-don-t-use-the-standard-names}
\end{cslreferences}
